<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Word-by-Word Viewer</title>
  <style>
    body {
      font-family: sans-serif;
      text-align: center;
      padding: 2em;
    }
    .input-row {
      display: flex;
      justify-content: center;
      gap: 1em;
      flex-wrap: wrap;
      margin-bottom: 1em;
    }
    .input-group {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
    }
    textarea {
      width: 80%;
      margin: 1em 0;
      padding: 0.5em;
      font-size: 1em;
    }
    #wordDisplay {
      margin: 1em  0;
      height: 3em;
    }
    #summary {
      margin: 0.5em 0;
      font-size: 1em;
      color: #555;
    }
    .controls {
      display: flex;
      justify-content: center;
      gap: 0.5em;
      flex-wrap: wrap;
    }
    #fryListButtonGroup {
      margin: 1em 0;
    }
    #fryListButtons {
      display: flex;
      gap: 0.3em;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 0.5em;
    }
    #fryListButtons button {
      background: #007bff;
      color: white;
      border: none;
      padding: 0.5em 1em;
      font-size: 1em;
      cursor: pointer;
    }
    button {
      font-size: 2.5em;
      padding: 0.4em 0.2em;
      background: none;
      border: none;
      cursor: pointer;
    }
    #currentIndexDisplay {
      padding: 0.5em 0.2em;
      font-size: 1.5em;
      color: #555;
    }
    #startButton {
      background: #007bff;
      color: white;
      border: none;
      padding: 0.5em 1em;
      font-size: 1em;
      cursor: pointer;
    }
    #copyButton, #downloadButton {
      margin-top: 1em;
      font-size: 1em;
      padding: 0.5em 1em;
      background: #28a745;
      color: white;
      border: none;
      cursor: pointer;
    }
    .hidden {
      display: none;
    }
  </style>
</head>
<body>

  <h1 id="appTitle">Word-by-Word Viewer</h1>

  <div id="inputSection">
    <div class="input-row">
      <div class="input-group">
        <label for="autoAdvance">Auto-advance</label>
        <input type="checkbox" id="autoAdvance">
      </div>
      <div class="input-group">
        <label for="intervalInput">Interval (seconds)</label>
        <input type="number" id="intervalInput" value="3" min="0.1" step="0.1">
      </div>

      <div class="input-group">
        <label for="fontSizeSelector">Font Size</label>
        <select id="fontSizeSelector">
          <option value="2em">Normal</option>
          <option value="4em">Large</option>
          <option value="6em">Extra Large</option>
          <option value="8em" selected>Huge</option>
        </select>
      </div>
    </div>
    <textarea id="textInput" rows="5" placeholder="Enter your text here..."></textarea><br>
    <div id="wordCount" class="hidden" style="text-align: right;">Word Count: <span id="count">0</span></div>
    <div id="fryListButtonGroup" >
      <div>Add Fry List</div>
      <div id="fryListButtons">
        <button onclick="importFryList(fryWordList1)">1</button>
        <button onclick="importFryList(fryWordList2)">2</button>
        <button onclick="importFryList(fryWordList3)">3</button>
        <button onclick="importFryList(fryWordList4)">4</button>
        <button onclick="importFryList(fryWordList5)">5</button>
        <button onclick="importFryList(fryWordList6)">6</button>
        <button onclick="importFryList(fryWordList7)">7</button>
        <button onclick="importFryList(fryWordList8)">8</button>
        <button onclick="importFryList(fryWordList9)">9</button>
        <button onclick="importFryList(fryWordList19)">10</button>
      </div>
    </div>
    <button id="startButton" onclick="startDisplay()">Start</button>
  </div>

  <div id="wordDisplay"></div>
  <div id="summary" class="hidden"></div>
  <button id="copyButton" class="hidden" onclick="copySummary()">Copy Summary</button>
  <button id="downloadButton" class="hidden" onclick="downloadSummary()">Download Summary</button>

  <div class="controls hidden" id="controlButtons">
    <button onclick="prevWord()">‚¨ÖÔ∏è</button>
    <button onclick="nextWord()">‚û°Ô∏è</button>
    <button onclick="hardWord()">üçï</button>
    <button id="pauseBtn" onclick="pauseDisplay()">‚è∏Ô∏è</button>
    <button id="resumeBtn" onclick="resumeDisplay()">‚ñ∂Ô∏è</button>
    <button onclick="restartDisplay()">üîÑ</button>
    <button onclick="stopDisplay()">‚èπÔ∏è</button>
    <div id="currentIndexDisplay"><span id="currentIndex">0</span></div>
  </div>

  <script>
    let words = [];
    let currentIndex = 0;
    let intervalId = null;
    let interval = 3000;
    let lastDisplayTime = null;
    let timingLogs = [];
    let hardWords = [];
    let sessionStartTime = null;
    let summaryText = '';

    const fryWordList1 = [
      ["the", "of", "and", "a", "to", "in", "is", "you", "that", "it", 
       "he", "was", "for", "on", "are", "as", "with", "his", "they", "I",
       "at", "be", "this", "have", "from", "or", "one", "had", "by", "not",
       "but", "some", "what", "all", "were", "we", "when", "your", "can", "said",
       "there", "use", "each", "which", "she", "do", "how", "their", "if", "will",
       "my", "more", "up", "other", "about", "out", "many", "then", "them", "these",
       "so", "some", "her", "would", "make", "like", "him", "into", "time", "has",
       "look", "two", "more", "go", "see", "no", "way", "could", "make", "than",
       "first", "been", "its", "now", "find", "any", "new", "work", "part", "take",
       "get", "place", "made", "live", "where", "after", "back", "little", "only", "round"]
    ];

    const fryWordList2 = [
      "after", "again", "air", "also", "America", "animal", "another", "answer", "any", "around",
      "ask", "away", "back", "because", "before", "big", "boy", "came", "change", "different",
      "does", "end", "even", "follow", "form", "found", "give", "good", "great", "hand", "help",
      "here", "home", "house", "just", "kind", "know", "land", "large", "learn", "letter", "line",
      "little", "live", "man", "me", "means", "men", "most", "mother", "move", "much", "must",
      "name", "need", "new", "off", "old", "only", "our", "over", "page", "picture", "place",
      "play", "point", "put", "read", "right", "same", "say", "sentence", "set", "should", "show",
      "small", "sound", "spell", "still", "study", "such", "take", "tell", "things", "think", 
      "three", "through", "too", "try", "turn", "us", "very", "want", "well", "went", "where", 
      "why", "work", "world", "years"
    ];

    const fryWordList3 = [
      "above", "add", "almost", "along", "always", "began", "begin", "being", "below", 
      "between", "book", "both", "car", "carry", "children", "city", "close", "country", 
      "cut", "don‚Äôt", "earth", "eat", "enough", "every", "example", "eyes", "face", 
      "family", "far", "father", "feet", "few", "food", "four", "girl", "got", "group", 
      "grow", "hard", "head", "hear", "high", "idea", "important", "Indian", "it‚Äôs", 
      "keep", "last", "late", "leave", "left", "let", "life", "light", "list", "might", 
      "mile", "miss", "mountains", "near", "never", "next", "night", "often", "once", 
      "open", "own", "paper", "plant", "real", "river", "run", "saw", "school", "sea", 
      "second", "seem", "side", "something", "sometimes", "song", "soon", "start", 
      "state", "stop", "story", "talk", "those", "thought", "together", "took", "tree", 
      "under", "until", "walk", "watch", "while", "white", "without", "young"
    ];

    const fryWordList4 = [
      "across", "against", "area", "become", "best", "better", "birds", "black", "body", 
      "certain", "cold", "color", "complete", "covered", "cried", "didn‚Äôt", "dog", 
      "door", "draw", "during", "early", "easy", "ever", "fall", "farm", "fast", 
      "field", "figure", "fire", "fish", "five", "friends", "ground", "happened", 
      "heard", "himself", "hold", "horse", "hours", "however", "hundred", "I‚Äôll", 
      "king", "knew", "listen", "low", "map", "mark", "measure", "money", "morning", 
      "music", "north", "notice", "numeral", "order", "passed", "pattern", "piece", 
      "plan", "problem", "products", "pulled", "questions", "reached", "red", 
      "remember", "rock", "room", "seen", "several", "ship", "short", "since", 
      "sing", "slowly", "south", "space", "stand", "step", "sun", "sure", "table", 
      "today", "told", "top", "toward", "town", "travel", "true", "unit", "upon", 
      "usually", "voice", "vowel", "war", "waves", "whole", "wind", "wood"
    ];

    const fryWordList5 = [
      "able", "ago", "among", "ball", "base", "became", "behind", "boat", "box", "bread", 
      "bring", "brought", "building", "built", "cannot", "carefully", "check", "circle", 
      "class", "clear", "common", "contain", "correct", "course", "dark", "decided", 
      "deep", "done", "dry", "English", "equation", "explain", "fact", "feel", "filled", 
      "finally", "fine", "fly", "force", "front", "full", "game", "gave", "government", 
      "green", "half", "heat", "heavy", "hot", "inches", "include", "inside", "island", 
      "known", "language", "less", "machine", "material", "minutes", "note", "nothing", 
      "noun", "object", "ocean", "oh", "pair", "person", "plane", "power", "produce", 
      "quickly", "ran", "rest", "road", "round", "rule", "scientists", "shape", "shown", 
      "six", "size", "special", "stars", "stay", "stood", "street", "strong", "surface", 
      "system", "ten", "though", "thousands", "understand", "verb", "wait", "warm", 
      "week", "wheels", "yes", "yet"
    ];

    const fryWordList6 = [
      "anything", "arms", "beautiful", "believe", "beside", "bill", "blue", "brother", 
      "can‚Äôt", "cause", "cells", "center", "clothes", "dance", "describe", "developed", 
      "difference", "direction", "discovered", "distance", "divided", "drive", "drop", 
      "edge", "eggs", "energy", "Europe", "exercise", "farmers", "felt", "finished", 
      "flowers", "forest", "general", "gone", "grass", "happy", "heart", "held", 
      "instruments", "interest", "job", "kept", "lay", "legs", "length", "love", 
      "main", "matter", "meet", "members", "million", "mind", "months", "moon", 
      "paint", "paragraph", "past", "perhaps", "picked", "present", "probably", 
      "race", "rain", "raised", "ready", "reason", "record", "region", "represent", 
      "return", "root", "sat", "shall", "sign", "simple", "site", "sky", "soft", 
      "square", "store", "subject", "suddenly", "sum", "summer", "syllables", 
      "teacher", "test", "third", "train", "wall", "weather", "west", "whether", 
      "wide", "wild", "window", "winter", "wish", "written"
    ];

    const fryWordList7 = [
      "act", "Africa", "age", "already", "although", "amount", "angle", "appear", "baby", 
      "bear", "beat", "bed", "bottom", "bright", "broken", "build", "buy", "care", "case", 
      "cat", "century", "consonant", "copy", "couldn‚Äôt", "count", "cross", "dictionary", 
      "died", "dress", "either", "everyone", "everything", "exactly", "factors", "fight", 
      "fingers", "floor", "fraction", "free", "French", "gold", "hair", "hill", "hole", 
      "hope", "ice", "instead", "iron", "jumped", "killed", "lake", "laughed", "lead", 
      "let‚Äôs", "lot", "melody", "metal", "method", "middle", "milk", "moment", "nation", 
      "natural", "outside", "per", "phrase", "poor", "possible", "pounds", "pushed", 
      "quiet", "quite", "remain", "result", "ride", "rolled", "sail", "scale", "section", 
      "sleep", "smiled", "snow", "soil", "solve", "someone", "son", "speak", "speed", 
      "spring", "stone", "surprise", "tall", "temperature", "themselves", "tiny", "trip", 
      "type", "village", "within", "wonder"
    ];

    const fryWordList8 = [
      "alone", "art", "bad", "bank", "bit", "break", "brown", "burning", "business", 
      "captain", "catch", "caught", "cents", "child", "choose", "clean", "climbed", 
      "cloud", "coast", "continued", "control", "cool", "cost", "decimal", "desert", 
      "design", "direct", "drawing", "ears", "east", "else", "engine", "England", 
      "equal", "experiment", "express", "feeling", "fell", "flow", "foot", "garden", 
      "gas", "glass", "God", "grew", "history", "human", "hunting", "increase", 
      "information", "itself", "joined", "key", "lady", "law", "least", "lost", 
      "maybe", "mouth", "party", "pay", "period", "plains", "please", "practice", 
      "president", "received", "report", "ring", "rise", "row", "save", "seeds", 
      "sent", "separate", "serve", "shouted", "single", "skin", "statement", "stick", 
      "straight", "strange", "students", "suppose", "symbols", "team", "touch", 
      "trouble", "uncle", "valley", "visit", "wear", "whose", "wire", "woman", 
      "wrote", "yard", "you‚Äôre", "yourself"
    ];

    const fryWordList9 = [
      "addition", "army", "bell", "belong", "block", "blood", "blow", "board", "bones", 
      "branches", "cattle", "chief", "compare", "compound", "consider", "cook", "corner", 
      "crops", "crowd", "current", "doctor", "dollars", "eight", "electric", "elements", 
      "enjoy", "entered", "except", "exciting", "expect", "famous", "fit", "flat", 
      "fruit", "fun", "guess", "hat", "hit", "indicate", "industry", "insects", 
      "interesting", "Japanese", "lie", "lifted", "loud", "major", "mall", "meat", 
      "mine", "modern", "movement", "necessary", "observe", "park", "particular", 
      "planets", "poem", "pole", "position", "process", "property", "provide", 
      "rather", "rhythm", "rich", "safe", "sand", "science", "sell", "send", 
      "sense", "seven", "sharp", "shoulder", "sight", "silent", "soldiers", 
      "spot", "spread", "stream", "string", "suggested", "supply", "swim", 
      "terms", "thick", "thin", "thus", "tied", "tone", "trade", "tube", 
      "value", "wash", "wasn‚Äôt", "weight", "wife", "wings", "won‚Äôt"
    ];

    const fryWordList10 = [
      "action", "actually", "adjective", "afraid", "agreed", "ahead", "allow", "apple", 
      "arrived", "born", "bought", "British", "capital", "chance", "chart", "church", 
      "column", "company", "conditions", "corn", "cotton", "cows", "create", "dead", 
      "deal", "death", "details", "determine", "difficult", "division", "doesn‚Äôt", 
      "effect", "entire", "especially", "evening", "experience", "factories", "fair", 
      "fear", "fig", "forward", "France", "fresh", "Greek", "gun", "hoe", "huge", 
      "isn‚Äôt", "led", "level", "located", "march", "match", "molecules", "northern", 
      "nose", "office", "opposite", "oxygen", "plural", "prepared", "pretty", "printed", 
      "radio", "repeated", "rope", "rose", "score", "seat", "settled", "shoes", "shop", 
      "similar", "sir", "sister", "smell", "solution", "southern", "steel", "stretched", 
      "substances", "suffix", "sugar", "tools", "total", "track", "triangle", "truck", 
      "underline", "various", "view", "Washington", "we‚Äôll", "western", "win", "women", 
      "workers", "wouldn‚Äôt", "wrong", "yellow"
    ];

    const textInput = document.getElementById('textInput');
    const wordCountDisplay = document.getElementById('wordCount');
    const countSpan = document.getElementById('count');

    textInput.addEventListener('input', () => {
      const wordCount = textInput.value.trim().split(/\s+/).filter(word => word.length > 0).length;
      countSpan.textContent = wordCount;
      wordCountDisplay.classList.remove('hidden');
    });

    function importFryList(wordList) {
      const shuffledList = wordList.flat().sort(() => Math.random() - 0.5);
      textInput.value = shuffledList.join(' ');
      const event = new Event('input', { bubbles: true });
      textInput.dispatchEvent(event);
    }

    function resetIntervalTimer() {
      clearInterval(intervalId);
      intervalId = setInterval(() => {
        logCurrentWordAsHard();
        if( document.getElementById('autoAdvance').checked )
        {
          nextWord();
        }
      }, interval);
      lastDisplayTime = Date.now();
    }

    function logCurrentWord() {
      if (lastDisplayTime !== null && currentIndex >= 0 && currentIndex < words.length) {
        const duration = (Date.now() - lastDisplayTime) / 1000;
        const word = words[currentIndex];
        timingLogs.push({ word, duration });
        console.log(`Word "${word}" was displayed for ${duration.toFixed(2)} seconds`);
      }
    }

    function logCurrentWordAsHard() {
      const word = words[currentIndex];
      hardWords.push(word);
      console.log(`Word "${word}" was hard.`);
    }

    function startDisplay() {
      const text = document.getElementById('textInput').value.trim();
      interval = parseFloat(document.getElementById('intervalInput').value) * 1000;

      if (!text || isNaN(interval) || interval <= 0) {
        alert("Please enter valid text and interval.");
        return;
      }

      words = text.split(/\s+/);
      currentIndex = 0;
      timingLogs = [];
      hardWords = [];
      
      sessionStartTime = Date.now();

      document.getElementById('inputSection').classList.add('hidden');
      document.getElementById('appTitle').classList.add('hidden');
      document.getElementById('wordDisplay').classList.remove('hidden');
      document.getElementById('controlButtons').classList.remove('hidden');
      if( autoadvance = document.getElementById('autoAdvance').checked )
      {
        document.getElementById('pauseBtn').classList.remove('hidden');
        document.getElementById('resumeBtn').classList.remove('hidden');
      }
      else
      {
        document.getElementById('pauseBtn').classList.add('hidden');
        document.getElementById('resumeBtn').classList.add('hidden');
      }
      document.getElementById('summary').classList.add('hidden');
      document.getElementById('copyButton').classList.add('hidden');
      document.getElementById('downloadButton').classList.add('hidden');

      showWord();
      resetIntervalTimer();
    }

    function showWord() {
      const wordDisplay = document.getElementById('wordDisplay');
      wordDisplay.textContent = words[currentIndex] || '';
      document.getElementById('currentIndex').textContent = currentIndex + 1;
      const fontSize = document.getElementById('fontSizeSelector').value;
      wordDisplay.style.fontSize = fontSize;
      lastDisplayTime = Date.now();
    }

    function prevWord() {
      if (currentIndex > 0) {
        logCurrentWord();
        currentIndex--;
        showWord();
        resetIntervalTimer();
      }
    }
    
    function nextWord() {
      if (currentIndex < words.length - 1) {
        logCurrentWord();
        currentIndex++;
        showWord();
        resetIntervalTimer();
      } else {
        clearInterval(intervalId);
        logCurrentWord();
        console.log(`Last word "${words[currentIndex]}" was displayed until end.`);
      }
    }

    function hardWord() {
      logCurrentWordAsHard();
      nextWord();
    }

    function pauseDisplay() {
      clearInterval(intervalId);
    }

    function resumeDisplay() {
      resetIntervalTimer();
    }

    function restartDisplay() {
      if (words.length === 0) return;

      logCurrentWord();
      currentIndex = 0;
      showWord();
      resetIntervalTimer();
    }

    function stopDisplay() {
      clearInterval(intervalId);
      logCurrentWord();

      const totalTime = (Date.now() - sessionStartTime) / 1000;
      const averageTime = timingLogs.length
        ? timingLogs.reduce((sum, log) => sum + log.duration, 0) / timingLogs.length
        : 0;
      const totalWords = timingLogs.length;

      summaryText = `Session Summary:\n\n` +
        `Total Time: ${totalTime.toFixed(2)} seconds\nAverage Word Display Time: ${averageTime.toFixed(2)} seconds\nWords Shown: ${totalWords}\n\nInput Text:\n${textInput.value.trim()}\n\nWord Timings:\n` +
        timingLogs.map(log => `${log.word}: ${log.duration.toFixed(2)}s`).join('\n') + 
        `\n\nHard Words:\n` +
        hardWords.join('\n');

      document.getElementById('summary').textContent =
        `Total Time: ${totalTime.toFixed(2)}s | Average Word Time: ${averageTime.toFixed(2)}s | Words Shown: ${totalWords}`;
      document.getElementById('summary').classList.remove('hidden');
      document.getElementById('copyButton').classList.remove('hidden');
      document.getElementById('downloadButton').classList.remove('hidden');


      document.getElementById('inputSection').classList.remove('hidden');
      document.getElementById('appTitle').classList.remove('hidden');

      words = [];
      currentIndex = 0;
      lastDisplayTime = null;
      document.getElementById('wordDisplay').textContent = '';
      document.getElementById('wordDisplay').classList.add('hidden');
      document.getElementById('controlButtons').classList.add('hidden');
    }

    function copySummary() {
      navigator.clipboard.writeText(summaryText)
        .then(() => alert("Summary copied to clipboard!"))
        .catch(err => alert("Failed to copy summary."));
    }

    function downloadSummary() {
      const blob = new Blob([summaryText], { type: 'text/plain' });
      const url = URL.createObjectURL(blob);
      const link = document.createElement('a');
      link.href = url;
      link.download = 'word_timing_summary.txt';
      link.click();
    }
  </script>

</body>
</html>


